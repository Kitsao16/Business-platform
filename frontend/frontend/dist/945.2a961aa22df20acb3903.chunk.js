"use strict";(self.webpackChunkbusiness_platform=self.webpackChunkbusiness_platform||[]).push([[945],{3465:(r,e,n)=>{n.d(e,{A:()=>i});var a=n(1601),s=n.n(a),t=n(6314),o=n.n(t)()(s());o.push([r.id,".register {\n    max-width: 400px;\n    margin: 0 auto;\n    padding: 20px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    background-color: #fff;\n}\n\nh2 {\n    text-align: center;\n    margin-bottom: 20px;\n}\n\n.form-group {\n    margin-bottom: 15px;\n}\n\n.form-group label {\n    display: block;\n    margin-bottom: 5px;\n}\n\n.form-group input {\n    width: 100%;\n    padding: 10px;\n    box-sizing: border-box;\n}\n\nbutton {\n    width: 100%;\n    padding: 10px;\n    background-color: #28a745;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n}\n\nbutton:hover {\n    background-color: #218838;\n}\n\n@media (max-width: 600px) {\n    .register {\n        padding: 15px;\n    }\n\n    .form-group input,\n    button {\n        padding: 8px;\n    }\n}\n\n.invalid-input {\n    border-color: red;\n}\n\n.error-message {\n    color: red;\n    font-size: 0.8rem;\n    margin-top: 5px;\n}\n",""]);const i=o},575:(r,e,n)=>{n.d(e,{A:()=>i});var a=n(1601),s=n.n(a),t=n(6314),o=n.n(t)()(s());o.push([r.id,'/* RegisterPage.css */\n.register-page {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    background-color: #f0f0f0; /* Consistent with HomePage */\n    color: #333; /* Consistent text color */\n    text-align: center;\n    padding: 20px;\n}\n\n.register-page input[type="text"],\n.register-page input[type="password"],\n.register-page input[type="email"] {\n    width: 80%;\n    padding: 10px;\n    margin-bottom: 15px;\n    font-size: 1rem;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n}\n\n.register-page button {\n    width: 50%;\n    padding: 10px;\n    font-size: 1rem;\n    background-color: #007bff; /* Consistent with SearchBar button */\n    color: white;\n    cursor: pointer;\n    border: none;\n    border-radius: 5px;\n}\n\n.register-page button:hover {\n    background-color: #0056b3;\n}\n\n@media (max-width: 768px) {\n    .register-page input[type="text"],\n    .register-page input[type="password"],\n    .register-page input[type="email"],\n    .register-page button {\n        width: 100%;\n    }\n}',""]);const i=o},1674:(r,e,n)=>{n.d(e,{m:()=>s});var a=n(6540);const s=()=>{const[r,e]=(0,a.useState)(""),[n,s]=(0,a.useState)(""),[t,o]=(0,a.useState)(!1),[i,d]=(0,a.useState)("");return{email:r,setEmail:e,password:n,setPassword:s,loading:t,setLoading:o,error:i,setError:d,validateEmail:r=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(String(r).toLowerCase()),validatePassword:r=>r.length>=6}}},7945:(r,e,n)=>{n.r(e),n.d(e,{default:()=>C});var a=n(4848),s=n(6540),t=n(1468),o=n(890),i=n(7767),d=n(1674),l=n(7204),c=n(5072),p=n.n(c),g=n(7825),m=n.n(g),u=n(7659),h=n.n(u),x=n(5056),b=n.n(x),w=n(540),f=n.n(w),v=n(1113),y=n.n(v),A=n(3465),j={};j.styleTagTransform=y(),j.setAttributes=b(),j.insert=h().bind(null,"head"),j.domAPI=m(),j.insertStyleElement=f(),p()(A.A,j),A.A&&A.A.locals&&A.A.locals;const P=()=>{const{email:r,setEmail:e,password:n,setPassword:c,loading:p,setLoading:g,error:m,setError:u,validateEmail:h,validatePassword:x}=(0,d.m)(),[b,w]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),y=(0,t.wA)(),A=(0,i.Zp)();return(0,a.jsxs)("div",{className:"register",children:[(0,a.jsx)("h2",{children:"Register"}),(0,a.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(r)&&x(n)&&n===f){g(!0),u("");try{const e=await(0,l.kz)(b,r,n,A);y((0,o.gV)({id:e.user.id,name:e.user.name,email:e.user.email,accountType:"customer"}))}catch(r){u("Registration failed. Please try again.")}finally{g(!1)}}else u("Invalid input")},children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,a.jsx)("input",{type:"text",id:"name",value:b,onChange:r=>w(r.target.value),required:!0,placeholder:"Enter your name"})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,a.jsx)("input",{type:"email",id:"email",value:r,onChange:r=>e(r.target.value),required:!0,"aria-invalid":!!m&&!h(r),"aria-describedby":"email-error"}),!!m&&!h(r)&&(0,a.jsx)("span",{id:"email-error",className:"error",children:"Invalid email format"})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,a.jsx)("input",{type:"password",id:"password",value:n,onChange:r=>c(r.target.value),required:!0,"aria-invalid":!!m&&!x(n),"aria-describedby":"password-error"}),!!m&&!x(n)&&(0,a.jsx)("span",{id:"password-error",className:"error",children:"Password must be at least 6 characters"})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"confirm-password",children:"Confirm Password:"}),(0,a.jsx)("input",{type:"password",id:"confirm-password",value:f,onChange:r=>v(r.target.value),required:!0,"aria-invalid":!!m&&n!==f,"aria-describedby":"confirm-password-error"}),!!m&&n!==f&&(0,a.jsx)("span",{id:"confirm-password-error",className:"error",children:"Passwords do not match"})]}),m&&(0,a.jsx)("div",{className:"error",children:m}),(0,a.jsx)("button",{type:"submit",disabled:p,children:p?"Loading...":"Register"})]})]})};var E=n(575),k={};k.styleTagTransform=y(),k.setAttributes=b(),k.insert=h().bind(null,"head"),k.domAPI=m(),k.insertStyleElement=f(),p()(E.A,k),E.A&&E.A.locals&&E.A.locals;const C=()=>(0,a.jsx)("div",{className:"register-page",children:(0,a.jsx)(P,{})})},7204:(r,e,n)=>{n.d(e,{iD:()=>t,kz:()=>o});var a=n(1083);const s=process.env.REACT_APP_API_URL,t=async(r,e,n)=>{try{const t=await a.A.post(`${s}/login`,{email:r,password:e});return 200===t.status&&n("/dashboard"),t.data}catch(r){throw a.A.isAxiosError(r)?console.error("Login error:",r.response?r.response.data:r.message):console.error("Login error:",r instanceof Error?r.message:"An unknown error occurred"),new Error("Login failed. Please check your credentials.")}},o=async(r,e,n,t)=>{try{const o=await a.A.post(`${s}/register`,{name:r,email:e,password:n});return 201===o.status&&t("/login"),o.data}catch(r){throw a.A.isAxiosError(r)?(console.error("Registration error:",r.response?r.response.data:r.message),new Error(r.response?.data?.message||"Registration failed. Please try again.")):(console.error("Registration error:",r instanceof Error?r.message:"An unknown error occurred"),new Error("Registration failed. Please try again."))}}}}]);